<!DOCTYPE html>
<html lang="es">

  <%- include('../other/header'); -%>
<body>
  <%- include('../other/index'); -%>

  <br>
  <div class="genericTools container">
    <div class="text-center">
      <h2 class="h2">Editar producto</h2>
    </div>
    <br>
    <form class="text-white" action="./edit-product" method="POST">
      <input type="hidden" name="id" value="<%= product.id %>" required>  
      <div class="row">
        <div class="col-12">
          <label for="name" class="form-label">Nombre del producto</label>
          <input type="text" name="name" id="name" class="form-control" value="<%= product.productname %>" required>
        </div>
      </div>
      <br>
      <div class="row"> 
        <div class="col-6">
          <label for="price" class="form-label">Precio</label>
          <input type="text" name="price" id="price" class="form-control" value="<%= product.price %>"required>
        </div>
        <div class="col-6">
          <label for="type" class="form-label">Tipo</label>
          <input type="text" name="type" id="type" class="form-control" value="<%= product.type %>"required>
        </div> 
      </div>
      <div class="col-6">
        <label for="categoryId" class="form-label">Categoria</label>
          <select class="form-control" name="categoryId" id="categoryId" required>
            <% if( product.category ){ %>
              <option value="<%= product.category.id %>" selected>
                  <%= product.category.name %>
              </option>
          <% } else{ %>  
              <option value="" selected disabled>Seleccione una categor√≠a</option>
          <% } %>
          
          <% category.forEach(function(category) { %>
              <% if( product.category ){ %>
                  <% if( product.category.id !== category.id ){ %>
                      <option value="<%= category.id %>">
                          <%= category.name %>
                      </option>>
                  <% } %> 
              <% } else{ %>  
                  <option value="<%= category.id %>">
                      <%= category.name %>
                  </option>>
              <% } %>
                                  
          <% }) %>
          </select>
        <br>
      </div>
      <br>
      <div class="row">
        <div class="col-6">
          <div class="float-start">
            <button type="submit" class="btn primary-btn">Editar productos</button>
          </div>
        </div>
        <div class="col-6">
          <div class="float-end">
            <a href="./products" class="btn primary-btn">Volver a productos</a>
          </div>
        </div>
      </div>
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>
  
</body>

</html>